/**
 * Created by Han Chen on 24/02/2015.
 */
app.controller("InputCtrl",["$scope","$rootScope","$service","$state","$stateParams","$firebase",function(n,o,a,e){function t(){e.go("ranking-display")}function i(){return{jobID:"",ranking:"Ranked",preference:0}}if(null===a.authData)e.go("home")
else{a.didUserRank(t,function(){n.isLoading=!1}),n.isLoading=!0,n.rankings=[]
for(var r=0;3>r;r++)n.rankings.push(i()),console.log(n.rankings)
n.addAnother=function(){n.rankings.push(i())},n.deleteRecord=function(o){n.rankings.splice(o,1)},n.submit=function(){var o=function(){e.go("ranking-display")},t=function(o){n.message=o}
console.log(n.rankings),a.addRankings(angular.copy(n.rankings),o,t)}}}]).controller("IntroCtrl",["$scope","$rootScope","$state","$stateParams","$firebaseAuth","$service",function(n,o,a,e,t,i){n.login=function(){var n=function(){a.go("ranking-input")},o=function(n){alert(n)}
i.login(n,o)}}]).controller("DisplayCtrl",["$scope","$rootScope","$service","$state","$stateParams",function(n,o,a,e){a.authData?(n.rankings=[],a.getRankings(function(o){console.log(o)
for(var a=0;a<o.length;a++)n.rankings.push(o[a])},function(n){console.log(n),e.go("home")})):e.go("home")}])
